# Overriding default settings
- defaults:
    link:
        create: true
        relink: true
        force: true

- clean:
    ~:
      force: true
      recursive: false
    ~/.config:
      force: true
      recursive: true

# Run shell commands
- shell:
    - [git submodule init, Initializing submodules]
    - [git submodule update --remote --recursive, Updating submodules...]
    - [git submodule sync --recursive, Syncing submodules...]
    - 
      command: test -f ~/.env && { echo ".env already exists"; } || { cp template-env ~/.env; }
      description: "REMEMBER TO UPDATE envars IN .env"

# Symlink my dotfiles
- link:
    ~/.alacritty.yml: alacritty.yml
    ~/.aliases.sh: aliases.sh
    ~/.config/alacritty/alacritty.yml: alacritty.yml
    ~/.config/dunst/dunstrc: dunstrc
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: dunstrc
    ~/.config/i3: i3
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: i3
    ~/.config/i3status: i3status
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: i3status
    ~/.config/kitty/kitty.conf: kitty.conf
    ~/.config/openbox: openbox
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: openbox
    ~/.config/picom.conf: picom.conf.MINE
    ~/.config/peco/config.json: peco.json
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: picom.conf.MINE
    ~/.config/polybar: polybar
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: polybar
    ~/.config/ranger: ranger
    ~/.config/sakura: sakura
    ~/.config/starship.toml: starship.toml
    ~/.config/tint2: tint2
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: tint2
    ~/.config/yabar: yabar
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path:  yabar
    ~/.config/yetanotherbar/config.ron: yetanotherbar.ron
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: yetanotherbar.ron
    ~/.config/yetanotherbar/style.css: yetanotherbar.style.css
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: yetanotherbar.style.css
    ~/.gitconfig: gitconfig
    ~/.irssi: irssi
    ~/.local/share/dwm/autostart.sh: autostart.sh
    ~/.npmrc: npmrc
    ~/.config/ptpython/config.py: ptpython-config.py
    ~/.fluxbox: fluxbox
    ~/.pekwm: pekwm
    ~/maintenance.sh:
    #  if: '[ uname = Darwin ]'
    #  path: maintenance.sh
    ~/.Xmodmap: Xmodmap
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: Xmodmap
    ~/.screenrc: screenrc
    ~/.slate: slate
    #  if: '[ uname -a | grep -ic "microsoft-standard-WSL" = 0 ]'
    #  path: stalonetrayrc
    ~/.tmux.conf: tmux.conf
    ~/.vim: vim
    ~/.vimrc: vimrc
    ~/.zlogin: zlogin
    ~/.zlogout: zlogout
    ~/.zprezto: prezto
    ~/.zpreztorc: zpreztorc
    ~/.zprofile: zprofile
    ~/.zshenv: zshenv
    ~/.zshrc: zshrc
    ~/.config/nvim: nvim
    ~/.config/doom: doom
